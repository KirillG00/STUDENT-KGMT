---
Поведение: 100
Баллы_причина: 0
Множитель_синопсисов: 0
---

```dataviewjs
// Ищем все свойства, начинающиеся с "пройденно" в текущем файле
const sourceFile = dv.pages(dv.current().file.frontmatter.Ссылка_на_источник)[0];
const rep = dv.current().file.frontmatter.Поведение
const reason = dv.current().file.frontmatter.Баллы_причина
const multiplier = dv.current().file.frontmatter.Множитель_синопсисов

let progressSumLek = Object.entries(dv.current())
  .filter(([key, value]) => key.startsWith("Пройдено"))
  .reduce((sum, [key, value]) => sum + (parseInt(value) || 0), 0);
let progressSumPrak = Object.entries(dv.current())
  .filter(([key, value]) => key.startsWith("Выполнено"))
  .reduce((sum, [key, value]) => sum + (parseInt(value) || 0), 0);
const full_lection = Object.entries(sourceFile.file.frontmatter) 
	.filter(([key, value]) => key.startsWith("Всего_тем"))
	.reduce((sum, [key, value]) => sum + (parseInt(value) || 0), 0);// Фильтруем свойства по префиксу и типу данных .reduce((sum, [key, value]) => sum + value, 0); // Суммируем значения
const full_prakt = Object.entries(sourceFile.file.frontmatter) 
	.filter(([key, value]) => key.startsWith("Всего_прак"))
	.reduce((sum, [key, value]) => sum + (parseInt(value) || 0), 0);// Фильтруем свойства по префиксу и типу данных .reduce((sum, [key, value]) => sum + value, 0); // Суммируем значения

const decency = (((progressSumLek + progressSumPrak) / (full_lection + full_prakt) * 100) + (rep / 10)) * (0.75 + (0.05 * multiplier)) + reason

dv.span(`
|  Порядочность студента  |     |
| --- | --- |
| **Выполненных лекций** | **${progressSumLek}** из **${full_lection}** |
| **Выполненной практики** | **${progressSumPrak}** из **${full_prakt}** |
| **Поведение** | **${rep}** баллов из **100**, +**${rep / 10}** к порядочности|
| **Множитель синопсисов** | x**${0.75 + (0.05 * multiplier)}** |
| **Ваша порядочность** | **${decency.toFixed(1)}** |
`)

let list_privilege = [
	'<span style = "color: #67E667">Автомат по предметам.</span>',
	'<span style = "color: #39E639">Возможность покинуть пару, раз в неделю.</span>',
	'<span style = "color: #00CC00">Отпустить пораньше</span>',
	'<span style = "color: #008500">Вы на хорошем счету.</span>'];
	
let list_restrictions = [
	'<span style = "color: #FF0000">Особый контроль.</span>', 
	'<span style = "color: #FF0000">Контроль преподавателем.</span>', 
	'<span style = "color: #BF3030">Ограничение в уважительных причинах.</span>', 
	'<span style = "color: #A60000">Низкая порядочность.</span>'];

//Привелегии и ограничения
let value;
if (decency >= 0 && decency <= 10){
	value = `\n - ${list_restrictions[0]} 
- ${list_restrictions[1]} 
- ${list_restrictions[2]} 
- ${list_restrictions[3]}`
}
else if (decency > 10 && decency <= 20){
	value = `\n- <span style = "color: #FF0000">Контроль преподавателем.</span> 
- <span style = "color: #BF3030">Ограничение в уважительных причинах.</span> 
- <span style = "color: #A60000">Низкая порядочность.</span>`
}
else if (decency > 20 && decency <= 30){
	value = `\n- <span style = "color: #BF3030">Ограничение в уважительных причинах.</span> 
- <span style = "color: #A60000">Низкая порядочность.</span>`
}
else if (decency > 30 && decency <= 40){
	value = `\n- <span style = "color: #A60000">Низкая порядочность.</span>`
}
else if (decency > 40 && decency <= 50){
	value = `\n- Нет привилегий и ограничений`
}
else if (decency > 50 && decency <= 60){
	value = `\n- <span style = "color: #008500">Вы на хорошем счету.</span>`
}
else if (decency > 60 && decency <= 70){
	value = `\n- <span style = "color: #008500">Вы на хорошем счету.</span>
- <span style = "color: #00CC00">Возможность покинуть пару, раз в неделю. </span>`
}
else if (decency > 70 && decency <= 80){
	value = `\n- <span style = "color: #008500">Вы на хорошем счету.</span>
- <span style = "color: #00CC00">Возможность покинуть пару, раз в неделю. </span>`
}
else if (decency > 80 && decency <= 90){
	value = `\n- <span style = "color: #008500">Вы на хорошем счету.</span>
- <span style = "color: #39E639">Возможность покинуть пару, два раза в неделю. </span>`
}
else if (decency > 90 && decency <= 100){
	value = `\n- <span style = "color: #008500">Вы на хорошем счету.</span>
- <span style = "color: #39E639">Возможность покинуть пару, два раза в неделю. </span>`
}
else if (decency > 100){
	value = `\n- <span style = "color: #008500">Вы на хорошем счету.</span>
- <span style = "color: #39E639">Возможность покинуть пару, два раза в неделю. </span>
- <span style = "color: #67E667">Автомат по предметам. </span>`
}
else{
	value = `\n- Нет привилегий и ограничений`
}

dv.paragraph(`Вам доступны следующие <span style = "color: green"> привиленгии </span> и <span style = "color: red"> ограничения</span>: ${value}`)
```